<!DOCTYPE html>
<html>
  
  <head>
    
    <script src="PhotoFuse.js"></script>
    
    <script>
      var images, fusedImage;
    </script>
    
    <script>
      function loadImages()
      {
        images = [];
        var imageFileInputElement = document.getElementById("imageFileInput");

        for (var i = 0; i < imageFileInputElement.files.length; i++)
        {
          var fileReader = new FileReader();
          fileReader.onload = function(event)
          {
            var image = new Image();
            image.onload = function(event)
            {
              images.push(event.target);
            }
            image.src = event.target.result;
          }
          fileReader.readAsDataURL(imageFileInputElement.files[i]);
        }
      }
    </script>
    
    <script>
      function fuseImages()
      {
        fusedImage = PhotoFuse.fuseImages(images);
        
        document.getElementById("result").src = fusedImage.src;
      }
    </script>
    
  </head>
  
  <body>

    <button onclick="document.getElementById('imageFileInput').click();">Open images</button>
    <input type="file" id="imageFileInput" name="imageFileInput" accept="image/*" multiple style="display: none;" onchange="loadImages()"/>
    
    <button onclick="fuseImages()">Fuse images</button>
  
    <img id="result"/>
  
  </body>
  
</html>